import{P as y}from"./index-ad4a5318.js";import{H as L,F as v}from"./index-b678c9b1.js";import{N as P,H as N,S as H}from"./Section-76dd51fc.js";import{P as S}from"./ProductCardLoader-4b2a65f6.js";import{_ as b,u as k,f as F,a as e,g as r,w as C,d as s,F as p,b as m,r as a,o as c,l as I}from"./index-95066904.js";import"./index-ead31d90.js";import"./transition-768acd64.js";import"./focus-management-fdb901a8.js";import"./keyboard-850e91b4.js";import"./use-outside-click-d9af4c19.js";import"./hidden-13296901.js";import"./micro-task-89dcd6af.js";import"./open-closed-5ea505c4.js";import"./index-338dc922.js";import"./swiper.min-7d49e63a.js";import"./navigation.min-f3c8b30f.js";import"./effect-fade.min-01f1e97f.js";import"./effect-virtual-transition-end-65e3f5a7.js";import"./logo-j-f2980ccb.js";import"./logout-8c57e966.js";const W={name:"Wishlist",data(){return{products:[],productsW:[],toast:k(),pageLoading:!1}},components:{ProductCart:y,HomeHeader:L,Footer:v,NavLoader:P,HeroLoader:N,Section:H,ProductLoader:S},methods:{async getProducts(){try{let t=JSON.parse(localStorage.getItem("wishlist"));if(!t){t=[];return}for(let o=t.length-1;o>=0;o--)typeof t[o]=="string"||typeof t[o]=="number"?t[o]=parseInt(t[o]):typeof t[o]=="object"&&t.splice(o,1);console.log(t),t.length>0?await F.post("api/wishlist/products",{productIds:t}).then(o=>{this.products=o.data.products,t=t.filter(n=>this.products.map(d=>d.id).includes(n)),localStorage.setItem("wishlist",JSON.stringify(t)),console.log("wishlist",t)}).catch(o=>{}):this.products=[]}catch(t){console.log(t)}finally{this.pageLoading=!1}},loadProducts(){const t=JSON.parse(localStorage.getItem("wishlist"));this.productsW=products.filter(o=>t.includes(o.id))}},mounted(){this.pageLoading=!0,this.getProducts().then(()=>{this.pageLoading=!1})}},B={key:0,class:"bg-white h-max w-full"},J={class:"grid grid-cols-12 gap-6 px-2 md:px-10"},O={class:"col-span-6 sm:col-span-6 md:col-span-4 mt-6 lg:col-span-3 border"},V={key:1,class:"bg-white text-black-500 h-max"},T={class:"px-2 md:px-10 min-h-80 py-10 grid grid-cols-12 gap-6"},j=s("div",{class:"col-span-full"},[s("p",{class:"text-2xl font-bold text-center"},"My Wishlist")],-1),E={class:"col-span-6 sm:col-span-6 md:col-span-4 lg:col-span-3 border"},G={key:1,class:"col-span-full self-end"},M=s("p",{class:"text-lg font-medium text-slate-500 text-center"},[I("No products in wishlist. "),s("a",{href:"/",class:"underline"},"Go shopping")],-1),q=[M];function z(t,o,n,d,i,u){const h=a("NavLoader"),_=a("ProductLoader"),g=a("Section"),f=a("HomeHeader"),x=a("ProductCart"),w=a("Footer");return i.pageLoading==!0?(c(),e("div",B,[r(h),r(g,null,{default:C(()=>[s("div",J,[(c(),e(p,null,m(8,l=>s("div",O,[r(_)])),64))])]),_:1})])):(c(),e("div",V,[r(f),s("div",T,[j,i.products.length>0?(c(!0),e(p,{key:0},m(i.products,l=>(c(),e("div",E,[r(x,{product:l,"fetch-data":u.loadProducts},null,8,["product","fetch-data"])]))),256)):(c(),e("div",G,q))]),r(w)]))}const lt=b(W,[["render",z]]);export{lt as default};
