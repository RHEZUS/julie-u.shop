import{T as B}from"./index-eee4a2bf.js";import{D}from"./index-75255af4.js";import{C as T}from"./index-fdbdfb57.js";import{I as P}from"./index-61dc0fab.js";import{I as S}from"./index-d89efa47.js";import{P as V}from"./index-66c4cc92.js";import{B as N}from"./index-c825509e.js";import{M as F}from"./Modal-ae2bdf02.js";import{T as R}from"./index-253d4462.js";import{_ as M,u as j,f as p,a as r,d as o,g as s,w as i,r as c,o as l,e as d,t as u,i as q,k as A,p as G,m as U}from"./index-47c70d24.js";import{B as z}from"./index-9b1a717e.js";import{b as E}from"./menu-18297b5b.js";import"./vue-cleave.min-2c4d7fec.js";import"./index-594d5b9d.js";import"./transition-446dcf16.js";import"./focus-management-11ee4cc9.js";import"./keyboard-18b04f11.js";import"./use-outside-click-1f63f6e1.js";import"./hidden-6a76d261.js";import"./micro-task-89dcd6af.js";import"./open-closed-dd2cd86f.js";import"./use-resolve-button-type-e565a52b.js";const L={components:{Pagination:V,InputGroup:S,Dropdown:D,Icon:P,Card:T,MenuItem:E,Modal:F,Button:N,Textinput:R,Tooltip:B,Breadcrumb:z},data(){return{products:[],toast:j(),formMode:"create",apiClient:p.defaults.baseURL,form:{name:"",email:"",role:"",phone_number:"",password:""},item:[],current:1,perpage:10,pageRange:1,searchTerm:"",actions:[{name:"view",icon:"heroicons-outline:eye"},{name:"edit",icon:"heroicons:pencil-square"},{name:"delete",icon:"heroicons-outline:trash"}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Image",field:"image_url"},{label:"Name",field:"title"},{label:"Category",field:"category"},{label:"Stock",field:"variants"},{label:"Status",field:"status"},{label:"Date",field:"created_at"},{label:"Action",field:"action"}]}},methods:{async FetchData(){await p.get("/api/admin/products",{withCredentials:!0}).then(t=>{this.products=t.data.products,console.log(this.products)}).catch(t=>{this.toast.error("Failed to fetch products",{timeout:2e3})})},formatDate(t){const n=new Date(t),h={day:"2-digit",month:"short",year:"numeric"};return n.toLocaleDateString("en-US",h)},confirmDelete(t){confirm("Are you sure you want to delete this item?")&&this.deleteItem(t)},async deleteItem(t){await p.delete(`/api/admin/product/destroy/${t}`,{withCredentials:!0}).then(n=>{this.FetchData(),this.toast.success("Products has been deleted successfully",{timeout:2e3})}).catch(n=>{this.toast.error("Failed to delete products",{timeout:2e3}),console.log(n)})}},mounted(){this.FetchData()}},_=t=>(G("data-v-64c64552"),t=t(),U(),t),Q={class:""},H={class:"flex justify-between flex-wrap items-start"},J={class:"modal-groups"},K={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},O=_(()=>o("h5",null,"Products",-1)),W={key:0,class:"flex"},X={class:"w-24 h-full rounded-full flex-none"},Y=["src","alt"],Z={key:1},$={key:2},ee={key:3},te={class:"text-sm text-slate-600 dark:text-slate-300 capitalize"},oe={key:4,class:"text-slate-500 dark:text-slate-300"},ae={key:5,class:"block w-full"},ne={key:6},se={class:"flex space-x-3 rtl:space-x-reverse"};const re=["onClick"],ie=_(()=>o("span",null," Edit",-1)),ce=["onClick"],le=_(()=>o("span",null,"Delete",-1)),de={class:"py-4 px-3"};function ue(t,n,h,me,a,f){const w=c("Breadcrumb"),y=c("Button"),v=c("InputGroup"),g=c("Icon"),b=c("Tooltip"),x=c("Pagination"),C=c("vue-good-table"),k=c("Card");return l(),r("div",Q,[o("div",H,[s(w),o("div",J,[s(y,{onClick:n[0]||(n[0]=e=>t.$router.push("/dashboard/product-create")),type:"submit",text:"Create Product",btnClass:"btn-primary h-10 flex items-center"})])]),o("div",null,[s(k,{noborder:""},{default:i(()=>[o("div",K,[O,s(v,{modelValue:a.searchTerm,"onUpdate:modelValue":n[1]||(n[1]=e=>a.searchTerm=e),placeholder:"Search",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])]),s(C,{columns:a.columns,styleClass:"vgt-table bordered centered",rows:a.products,"pagination-options":{enabled:!0,perPage:a.perpage},"search-options":{enabled:!0,externalQuery:a.searchTerm}},{"table-row":i(e=>[e.column.field=="image_url"?(l(),r("span",W,[o("span",X,[o("img",{src:a.apiClient+"/storage/"+e.row.image_url,alt:e.row.name,class:"object-cover w-full h-full"},null,8,Y)])])):d("",!0),e.column.field=="title"?(l(),r("span",Z,u(e.row.title),1)):d("",!0),e.column.field=="variants"?(l(),r("span",$,u(e.row.variants.reduce((m,I)=>m+I.inventory_quantity,0)),1)):d("",!0),e.column.field=="category"?(l(),r("span",ee,u(e.row.category.name),1)):d("",!0),o("span",te,u(e.row.name),1),e.column.field=="created_at"?(l(),r("span",oe,u(f.formatDate(e.row.created_at)),1)):d("",!0),e.column.field=="status"?(l(),r("span",ae,[o("span",{class:q(["inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25",`${e.row.is_active==="published"?"text-success-500 bg-success-500":""} 
                ${e.row.is_active==="draft"?"text-danger-500 bg-danger-500":""}
                
                  `])},u(e.row.is_active=="published"?"Activated":"Deactivated"),3)])):d("",!0),e.column.field=="action"?(l(),r("span",ne,[o("div",se,[d("",!0),s(b,{placement:"top",arrow:"",theme:"dark"},{button:i(()=>[o("a",{href:"",onClick:m=>t.$router.push("/dashboard/products-edit/"+e.row.slug),class:"action-btn"},[s(g,{icon:"heroicons:pencil-square"})],8,re)]),default:i(()=>[ie]),_:2},1024),s(b,{placement:"top",arrow:"",theme:"danger-500"},{button:i(()=>[o("div",{onClick:m=>f.confirmDelete(e.row.id),class:"action-btn"},[s(g,{icon:"heroicons:trash"})],8,ce)]),default:i(()=>[le]),_:2},1024)])])):d("",!0)]),"pagination-bottom":i(e=>[o("div",de,[s(x,{total:50,current:a.current,"per-page":a.perpage,pageRange:a.pageRange,onPageChanged:n[2]||(n[2]=m=>a.current=m),pageChanged:e.pageChanged,perPageChanged:e.perPageChanged,enableSearch:"",options:a.options},{default:i(()=>[A(" > ")]),_:2},1032,["current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])]),_:1})])])}const je=M(L,[["render",ue],["__scopeId","data-v-64c64552"]]);export{je as default};
