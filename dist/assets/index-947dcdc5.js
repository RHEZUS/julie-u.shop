import{T as D}from"./index-740445f5.js";import{D as B}from"./index-419b2a1f.js";import{C as P}from"./index-5b63b34b.js";import{I as T}from"./index-8bd2886e.js";import{I as S}from"./index-fc53d512.js";import{P as V}from"./index-6aa0e54f.js";import{B as N}from"./index-e5b31831.js";import{M as F}from"./Modal-b6922669.js";import{T as R}from"./index-97d86235.js";import{_ as j,u as q,f as m,a as r,d as o,g as s,w as i,r as c,o as l,e as d,t as u,j as M,l as A,p as G,q as U}from"./index-583483ef.js";import{B as E}from"./index-b9550106.js";import{b as L}from"./menu-ec6df042.js";import"./utils-54aeb6c8.js";import"./vue-cleave.min-92d6160a.js";import"./index-d0b39234.js";import"./transition-8fa849a3.js";import"./focus-management-d710945a.js";import"./keyboard-10a19c7f.js";import"./use-outside-click-7f7a0170.js";import"./hidden-edfc4318.js";import"./micro-task-89dcd6af.js";import"./open-closed-1f291b1c.js";import"./use-resolve-button-type-ead5bebf.js";const z={components:{Pagination:V,InputGroup:S,Dropdown:B,Icon:T,Card:P,MenuItem:L,Modal:F,Button:N,Textinput:R,Tooltip:D,Breadcrumb:E},data(){return{products:[],toast:q(),formMode:"create",apiClient:m.defaults.baseURL,form:{name:"",email:"",role:"",phone_number:"",password:""},item:[],current:1,perpage:10,pageRange:1,total:0,searchTerm:"",actions:[{name:"view",icon:"heroicons-outline:eye"},{name:"edit",icon:"heroicons:pencil-square"},{name:"delete",icon:"heroicons-outline:trash"}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Image",field:"image_url"},{label:"Name",field:"title"},{label:"Category",field:"category.name"},{label:"Stock",field:"variants"},{label:"Status",field:"status"},{label:"Date",field:"created_at"},{label:"Action",field:"action"}]}},methods:{async FetchData(){await m.get("/api/admin/products",{withCredentials:!0}).then(t=>{this.products=t.data.products.data,this.total=t.data.products.total,this.perpage=t.data.products.per_page,this.current=t.data.products.current_page,console.log(this.products)}).catch(t=>{this.toast.error("Failed to fetch products",{timeout:2e3})})},changePage(t){this.FetchData(t)},formatDate(t){const n=new Date(t),h={day:"2-digit",month:"short",year:"numeric"};return n.toLocaleDateString("en-US",h)},confirmDelete(t){confirm("Are you sure you want to delete this item?")&&this.deleteItem(t)},async deleteItem(t){await m.delete(`/api/admin/product/destroy/${t}`,{withCredentials:!0}).then(n=>{this.FetchData(),this.toast.success("Products has been deleted successfully",{timeout:2e3})}).catch(n=>{this.toast.error("Failed to delete products",{timeout:2e3}),console.log(n)})}},mounted(){this.FetchData()}},_=t=>(G("data-v-d78f6eba"),t=t(),U(),t),Q={class:""},H={class:"flex justify-between flex-wrap items-start"},J={class:"modal-groups"},K={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},O=_(()=>o("h5",null,"Products",-1)),W={key:0,class:"flex"},X={class:"w-12 h-12 overflow-hidden rounded flex-none"},Y=["src","alt"],Z={key:1},$={key:2},ee={key:3},te={key:4,class:"text-slate-500 dark:text-slate-300"},oe={key:5,class:"block w-full"},ae={key:6},ne={class:"flex space-x-3 rtl:space-x-reverse"};const se=["href"],re=_(()=>o("span",null," Edit",-1)),ie=["onClick"],ce=_(()=>o("span",null,"Delete",-1)),le={class:"py-4 px-3"};function de(t,n,h,ue,a,g){const w=c("Breadcrumb"),y=c("Button"),v=c("InputGroup"),f=c("Icon"),b=c("Tooltip"),x=c("Pagination"),C=c("vue-good-table"),k=c("Card");return l(),r("div",Q,[o("div",H,[s(w),o("div",J,[s(y,{onClick:n[0]||(n[0]=e=>t.$router.push("/dashboard/product-create")),type:"submit",text:"Create Product",btnClass:"btn-primary h-10 flex items-center"})])]),o("div",null,[s(k,{noborder:""},{default:i(()=>[o("div",K,[O,s(v,{modelValue:a.searchTerm,"onUpdate:modelValue":n[1]||(n[1]=e=>a.searchTerm=e),placeholder:"Search",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])]),s(C,{columns:a.columns,styleClass:"vgt-table bordered centered",rows:a.products,"pagination-options":{enabled:!0,perPage:a.perpage},"search-options":{enabled:!0,externalQuery:a.searchTerm}},{"table-row":i(e=>[e.column.field=="image_url"?(l(),r("span",W,[o("span",X,[o("img",{src:a.apiClient+"/storage/"+e.row.image_url,alt:e.row.name,class:"object-cover w-full h-full"},null,8,Y)])])):d("",!0),e.column.field=="title"?(l(),r("span",Z,u(e.row.title),1)):d("",!0),e.column.field=="variants"?(l(),r("span",$,u(e.row.variants.reduce((p,I)=>p+I.inventory_quantity,0)),1)):d("",!0),e.column.label=="category"?(l(),r("span",ee,u(e.row.category.name),1)):d("",!0),e.column.field=="created_at"?(l(),r("span",te,u(g.formatDate(e.row.created_at)),1)):d("",!0),e.column.field=="status"?(l(),r("span",oe,[o("span",{class:M(["inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25",`${e.row.is_active==="published"?"text-success-500 bg-success-500":""} 
                ${e.row.is_active==="draft"?"text-danger-500 bg-danger-500":""}
                
                  `])},u(e.row.is_active=="published"?"Activated":"Deactivated"),3)])):d("",!0),e.column.field=="action"?(l(),r("span",ae,[o("div",ne,[d("",!0),s(b,{placement:"top",arrow:"",theme:"dark"},{button:i(()=>[o("a",{href:"/dashboard/product/edit/"+e.row.id,class:"action-btn"},[s(f,{icon:"heroicons:pencil-square"})],8,se)]),default:i(()=>[re]),_:2},1024),s(b,{placement:"top",arrow:"",theme:"danger-500"},{button:i(()=>[o("div",{onClick:p=>g.confirmDelete(e.row.id),class:"action-btn"},[s(f,{icon:"heroicons:trash"})],8,ie)]),default:i(()=>[ce]),_:2},1024)])])):d("",!0)]),"pagination-bottom":i(e=>[o("div",le,[s(x,{total:a.total,current:a.current,"per-page":a.perpage,pageRange:a.pageRange,onPageChanged:n[2]||(n[2]=p=>a.current=p),pageChanged:e.pageChanged,perPageChanged:e.perPageChanged,enableSearch:"",options:a.options},{default:i(()=>[A(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])]),_:1})])])}const qe=j(z,[["render",de],["__scopeId","data-v-d78f6eba"]]);export{qe as default};
