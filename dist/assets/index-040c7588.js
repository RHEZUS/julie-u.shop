import{T as I}from"./index-20db4ec2.js";import{D as P}from"./index-7ee05c36.js";import{C as T}from"./index-6254fa1c.js";import{I as B}from"./index-cb27a196.js";import{I as M}from"./index-e41db075.js";import{P as F}from"./index-5a840f3d.js";import{B as S}from"./index-ec894d07.js";import{M as V}from"./Modal-f376dd44.js";import{T as j}from"./index-26f9d83b.js";import{_ as N,u as q,f as b,a as c,d as a,g as n,w as r,r as i,o as l,t as g,e as u,j as R,l as A,p as E,q as G}from"./index-88b678ca.js";import{B as z}from"./index-327ed9fa.js";import{b as O}from"./menu-1ea2f48b.js";import"./utils-54aeb6c8.js";import"./vue-cleave.min-5b332cbf.js";import"./index-8d69cdf0.js";import"./transition-cc45222d.js";import"./focus-management-5a2adc5d.js";import"./keyboard-3a59ea43.js";import"./use-outside-click-4d5a1c68.js";import"./hidden-d37d12f8.js";import"./micro-task-89dcd6af.js";import"./open-closed-6bc6740d.js";import"./use-resolve-button-type-3aecb00d.js";const U={components:{Pagination:F,InputGroup:M,Dropdown:P,Icon:B,Card:T,MenuItem:O,Modal:V,Button:S,Textinput:j,Tooltip:I,Breadcrumb:z},data(){return{orders:[],toast:q(),item:[],current:1,perpage:10,total:0,pageRange:1,searchTerm:"",actions:[{name:"view",icon:"heroicons-outline:eye"},{name:"edit",icon:"heroicons:pencil-square"},{name:"delete",icon:"heroicons-outline:trash"}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Id",field:"id"},{label:"Customer",field:"user.name"},{label:"No. Products",field:"items_sum_quantity"},{label:"Date",field:"created_at"},{label:"Action",field:"action"}]}},methods:{async FetchData(t=1){await b.get(`/api/admin/orders?page=${t}`).then(o=>{this.orders=o.data.orders.data,this.total=o.data.orders.total,this.perpage=o.data.orders.per_page,this.current=o.data.orders.current_page,console.log(this.orders)}).catch(o=>{console.log(o),this.toast.error("Failed to fetch orders",{timeout:2e3})})},changePage(t){this.FetchData(t)},formatDate(t){const o=new Date(t),f={day:"2-digit",month:"short",year:"numeric"};return o.toLocaleDateString("en-US",f)},confirmDelete(t){Category,confirm("Are you sure you want to delete this item?")&&this.deleteItem(t)},async deleteItem(t){await b.delete(`/api/admin/orders/delete/${t}`,{withCredentials:!0}).then(o=>{this.FetchData(),this.toast.success("Orders has been deleted successfully",{timeout:2e3})}).catch(o=>{this.toast.error("Failed to delete Orders",{timeout:2e3})})}},mounted(){this.FetchData()}},p=t=>(E("data-v-a889ad61"),t=t(),G(),t),L={class:""},Q={class:"flex justify-between flex-wrap items-start"},H={class:"modal-groups"},J={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},K=p(()=>a("h5",null,"Categories",-1)),W={key:0,class:"flex"},X={class:"w-7 h-7 rounded-full ltr:mr-3 rtl:ml-3 flex-none"},Y=["src","alt"],Z={class:"text-sm text-slate-600 dark:text-slate-300 capitalize"},$={key:1,class:"text-slate-500 dark:text-slate-300"},ee={key:2,class:"block w-full"},te={key:3},oe={class:"flex justify-between space-x-3 rtl:space-x-reverse"},ae=["href"],se=p(()=>a("span",null," View",-1)),ne=["onClick"],re=p(()=>a("span",null," Edit",-1)),ie=["onClick"],ce=p(()=>a("span",null,"Delete",-1)),le={class:"py-4 px-3"};function de(t,o,f,me,s,d){const w=i("Breadcrumb"),x=i("FormModal"),v=i("Button"),y=i("InputGroup"),_=i("Icon"),h=i("Tooltip"),C=i("Pagination"),k=i("vue-good-table"),D=i("Card");return l(),c("div",L,[a("div",Q,[n(w),a("div",H,[n(x,{"load-data":d.FetchData,formMode:t.formMode,user:s.item,ref:"formModal1"},null,8,["load-data","formMode","user"]),n(v,{onClick:o[0]||(o[0]=e=>t.showCreateModal()),type:"submit",text:"Create Category",btnClass:"btn-primary h-10 flex items-center"})])]),a("div",null,[n(D,{noborder:""},{default:r(()=>[a("div",J,[K,n(y,{modelValue:s.searchTerm,"onUpdate:modelValue":o[1]||(o[1]=e=>s.searchTerm=e),placeholder:"Search",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])]),n(k,{columns:s.columns,styleClass:"vgt-table bordered centered",rows:s.orders,"pagination-options":{enabled:!0,perPage:s.perpage},"search-options":{enabled:!0,externalQuery:s.searchTerm}},{"table-row":r(e=>[e.column.field=="customer"?(l(),c("span",W,[a("span",X,[a("img",{src:e.row.customer.image,alt:e.row.customer.name,class:"object-cover w-full h-full rounded-full"},null,8,Y)]),a("span",Z,g(e.row.customer.name),1)])):u("",!0),e.column.field=="created_at"?(l(),c("span",$,g(d.formatDate(e.row.created_at)),1)):u("",!0),e.column.field=="is_active"?(l(),c("span",ee,[a("span",{class:R(["inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25",`${e.row.is_active===1?"text-success-500 bg-success-500":""} 
              ${e.row.is_active==="due"?"text-warning-500 bg-warning-500":""}
              ${e.row.is_active===0?"text-danger-500 bg-danger-500":""}
              
                `])},g(e.row.is_active==1?"Activated":"Deactivated"),3)])):u("",!0),e.column.field=="action"?(l(),c("span",te,[a("div",oe,[n(h,{placement:"top",arrow:"",theme:"dark"},{button:r(()=>[a("a",{href:"order-details/"+e.row.id,class:"action-btn"},[n(_,{icon:"heroicons:eye"})],8,ae)]),default:r(()=>[se]),_:2},1024),n(h,{placement:"top",arrow:"",theme:"dark"},{button:r(()=>[a("div",{onClick:m=>t.showEditModal(e.row),class:"action-btn"},[n(_,{icon:"heroicons:pencil-square"})],8,ne)]),default:r(()=>[re]),_:2},1024),n(h,{placement:"top",arrow:"",theme:"danger-500"},{button:r(()=>[a("div",{onClick:m=>d.confirmDelete(e.row.id),class:"action-btn"},[n(_,{icon:"heroicons:trash"})],8,ie)]),default:r(()=>[ce]),_:2},1024)])])):u("",!0)]),"pagination-bottom":r(e=>[a("div",le,[n(C,{total:s.total,current:s.current,"per-page":s.perpage,pageRange:s.pageRange,onPageChanged:o[2]||(o[2]=m=>{s.current=m,d.changePage(m)}),pageChanged:e.pageChanged,perPageChanged:e.perPageChanged,enableSearch:"",options:s.options},{default:r(()=>[A(" > ")]),_:2},1032,["total","current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])]),_:1})])])}const Ne=N(U,[["render",de],["__scopeId","data-v-a889ad61"]]);export{Ne as default};
