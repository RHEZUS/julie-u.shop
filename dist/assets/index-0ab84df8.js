import{T as D}from"./index-3c2a03be.js";import{D as B}from"./index-5351b57f.js";import{C as T}from"./index-0292dadb.js";import{I as M}from"./index-5624f6c1.js";import{I as V}from"./index-5e63eccc.js";import{P}from"./index-a8d54c2d.js";import{B as S}from"./index-8a45c170.js";import{M as F}from"./Modal-8e2207e9.js";import{T as N}from"./index-b2712cc7.js";import{_ as R,u as j,f as b,a as c,d as o,g as n,w as i,r,o as l,t as m,e as d,i as A,k as E,p as G,m as q}from"./index-15e4ae64.js";import{B as z}from"./index-a72531db.js";import{b as O}from"./menu-301cbd29.js";import"./vue-cleave.min-4165aa4e.js";import"./index-e09b4528.js";import"./transition-44afa80f.js";import"./focus-management-ece45ebd.js";import"./keyboard-d7c16d8c.js";import"./use-outside-click-77b3ad85.js";import"./hidden-8efe21d3.js";import"./micro-task-89dcd6af.js";import"./open-closed-07e5cd95.js";import"./use-resolve-button-type-6c8200a3.js";const U={components:{Pagination:P,InputGroup:V,Dropdown:B,Icon:M,Card:T,MenuItem:O,Modal:F,Button:S,Textinput:N,Tooltip:D,Breadcrumb:z},data(){return{categories:[],toast:j(),formMode:"create",form:{name:"",email:"",role:"",phone_number:"",password:""},item:[],current:1,perpage:10,pageRange:1,searchTerm:"",actions:[{name:"view",icon:"heroicons-outline:eye"},{name:"edit",icon:"heroicons:pencil-square"},{name:"delete",icon:"heroicons-outline:trash"}],options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],columns:[{label:"Id",field:"id"},{label:"Name",field:"name"},{label:"No. Stories",field:"products_count"},{label:"Date",field:"created_at"},{label:"Action",field:"action"}]}},methods:{async FetchData(){await b.get("/api/admin/orders",{withCredentials:!0}).then(t=>{this.orders=t.data.orders}).catch(t=>{this.toast.error("Failed to fetch orders",{timeout:2e3})})},formatDate(t){const s=new Date(t),h={day:"2-digit",month:"short",year:"numeric"};return s.toLocaleDateString("en-US",h)},confirmDelete(t){Category,confirm("Are you sure you want to delete this item?")&&this.deleteItem(t)},async deleteItem(t){await b.delete(`/api/admin/orders/delete/${t}`,{withCredentials:!0}).then(s=>{this.FetchData(),this.toast.success("Orders has been deleted successfully",{timeout:2e3})}).catch(s=>{this.toast.error("Failed to delete Orders",{timeout:2e3})})}},mounted(){this.FetchData()}},_=t=>(G("data-v-a7d7c633"),t=t(),q(),t),L={class:""},Q={class:"flex justify-between flex-wrap items-start"},H={class:"modal-groups"},J={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},K=_(()=>o("h5",null,"Categories",-1)),W={key:0,class:"flex"},X={class:"w-7 h-7 rounded-full ltr:mr-3 rtl:ml-3 flex-none"},Y=["src","alt"],Z={class:"text-sm text-slate-600 dark:text-slate-300 capitalize"},$={key:1},ee={key:2,class:"text-slate-500 dark:text-slate-300"},te={key:3,class:"block w-full"},oe={key:4},ae={class:"flex space-x-3 rtl:space-x-reverse"};const ne=["onClick"],se=_(()=>o("span",null," Edit",-1)),re=["onClick"],ie=_(()=>o("span",null,"Delete",-1)),ce={class:"py-4 px-3"};function le(t,s,h,de,a,u){const w=r("Breadcrumb"),x=r("FormModal"),v=r("Button"),y=r("InputGroup"),f=r("Icon"),g=r("Tooltip"),C=r("Pagination"),k=r("vue-good-table"),I=r("Card");return l(),c("div",L,[o("div",Q,[n(w),o("div",H,[n(x,{"load-data":u.FetchData,formMode:a.formMode,user:a.item,ref:"formModal1"},null,8,["load-data","formMode","user"]),n(v,{onClick:s[0]||(s[0]=e=>t.showCreateModal()),type:"submit",text:"Create Category",btnClass:"btn-primary h-10 flex items-center"})])]),o("div",null,[n(I,{noborder:""},{default:i(()=>[o("div",J,[K,n(y,{modelValue:a.searchTerm,"onUpdate:modelValue":s[1]||(s[1]=e=>a.searchTerm=e),placeholder:"Search",type:"text",prependIcon:"heroicons-outline:search",merged:""},null,8,["modelValue"])]),n(k,{columns:a.columns,styleClass:"vgt-table bordered centered",rows:a.categories,"pagination-options":{enabled:!0,perPage:a.perpage},"search-options":{enabled:!0,externalQuery:a.searchTerm}},{"table-row":i(e=>[e.column.field=="customer"?(l(),c("span",W,[o("span",X,[o("img",{src:e.row.customer.image,alt:e.row.customer.name,class:"object-cover w-full h-full rounded-full"},null,8,Y)]),o("span",Z,m(e.row.customer.name),1)])):d("",!0),e.column.field=="order"?(l(),c("span",$,m("#"+e.row.order),1)):d("",!0),e.column.field=="created_at"?(l(),c("span",ee,m(u.formatDate(e.row.created_at)),1)):d("",!0),e.column.field=="is_active"?(l(),c("span",te,[o("span",{class:A(["inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25",`${e.row.is_active===1?"text-success-500 bg-success-500":""} 
              ${e.row.is_active==="due"?"text-warning-500 bg-warning-500":""}
              ${e.row.is_active===0?"text-danger-500 bg-danger-500":""}
              
                `])},m(e.row.is_active==1?"Activated":"Deactivated"),3)])):d("",!0),e.column.field=="action"?(l(),c("span",oe,[o("div",ae,[d("",!0),n(g,{placement:"top",arrow:"",theme:"dark"},{button:i(()=>[o("div",{onClick:p=>t.showEditModal(e.row),class:"action-btn"},[n(f,{icon:"heroicons:pencil-square"})],8,ne)]),default:i(()=>[se]),_:2},1024),n(g,{placement:"top",arrow:"",theme:"danger-500"},{button:i(()=>[o("div",{onClick:p=>u.confirmDelete(e.row.id),class:"action-btn"},[n(f,{icon:"heroicons:trash"})],8,re)]),default:i(()=>[ie]),_:2},1024)])])):d("",!0)]),"pagination-bottom":i(e=>[o("div",ce,[n(C,{total:50,current:a.current,"per-page":a.perpage,pageRange:a.pageRange,onPageChanged:s[2]||(s[2]=p=>a.current=p),pageChanged:e.pageChanged,perPageChanged:e.perPageChanged,enableSearch:"",options:a.options},{default:i(()=>[E(" > ")]),_:2},1032,["current","per-page","pageRange","pageChanged","perPageChanged","options"])])]),_:1},8,["columns","rows","pagination-options","search-options"])]),_:1})])])}const Ne=R(U,[["render",le],["__scopeId","data-v-a7d7c633"]]);export{Ne as default};
